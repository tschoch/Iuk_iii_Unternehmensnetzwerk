enable
conf t
hostname R1
no ip domain-lookup
ipv6 unicast-routing
ipv6 router ospf 1
exit

interface s0/1/0
      ip address 10.4.40.1 255.255.255.252
      ipv6 address 2001:620:3101:4041::1/64
      ipv6 address FE80::1 link-local
      clock rate 128000	
      ipv6 enable
      ipv6 ospf 1 area 0	
      no shutdown
      exit

interface g0/0
      ip address 10.1.40.1 255.255.255.252
      ipv6 address 2001:620:3101:1040::1/64
      ipv6 address FE80::1 link-local
      ipv6 enable
      ipv6 ospf 1 area 0	
      no shutdown
      exit

interface g0/1
      ip address 10.1.40.5 255.255.255.252
      ipv6 address 2001:620:3101:1041::1/64
      ipv6 address FE80::1 link-local
      ipv6 enable
      ipv6 ospf 1 area 0
      no shutdown
      exit

router ospf 1
      network 10.1.40.0 0.0.0.3 area 0
      network 10.1.40.4 0.0.0.3 area 0
      network 10.4.40.0 0.0.0.3 area 0
      default-information originate	
      exit


ip route 0.0.0.0 0.0.0.0 195.176.242.14

conf t
ip dhcp pool C_10
network 10.1.10.0 255.255.255.0
dns-server 195.176.242.202 195.176.242.233
default-router 10.1.10.1
exit

conf t
ip dhcp pool C_20
network 10.1.20.0 255.255.255.0
dns-server 195.176.242.202 195.176.242.233
default-router 10.1.20.1
exit

conf t
ip dhcp pool C_30
network 10.1.30.0 255.255.255.0
dns-server 195.176.242.202 195.176.242.233
default-router 10.1.30.1
exit

conf t
ip dhcp pool B_10
network 10.2.10.0 255.255.255.0
dns-server 195.176.242.202 195.176.242.233
default-router 10.2.10.1
exit

conf t
ip dhcp pool B_20
network 10.2.20.0 255.255.255.0
dns-server 195.176.242.202 195.176.242.233
default-router 10.2.20.1
exit

conf t
ip dhcp pool B_30
network 10.2.30.0 255.255.255.0
dns-server 195.176.242.202 195.176.242.233
default-router 10.2.30.1
exit

conf t
ip dhcp pool S_10
network 10.3.10.0 255.255.255.0
dns-server 195.176.242.202 195.176.242.233
default-router 10.3.10.1
exit

conf t
ip dhcp pool S_20
network 10.3.20.0 255.255.255.0
dns-server 195.176.242.202 195.176.242.233
default-router 10.3.20.1
exit

conf t
ip dhcp pool S_30
network 10.3.30.0 255.255.255.0
dns-server 195.176.242.202 195.176.242.233
default-router 10.3.30.1
exit
	
 interface lo 0
      ip address 10.1.0.1 255.255.255.252
      no shutdown
      exit


router ospf 1
	network 10.1.0.0 0.0.0.3 area 0


conf t

ip nat pool chur10 195.176.242.17 195.176.242.17 netmask 255.255.255.240
ip nat pool chur20 195.176.242.18 195.176.242.18 netmask 255.255.255.240 
ip nat pool chur30 195.176.242.19 195.176.242.19 netmask 255.255.255.240
ip nat pool chur99 195.176.242.20 195.176.242.20 netmask 255.255.255.240 
ip nat pool buchs10 195.176.242.21 195.176.242.21 netmask 255.255.255.240 
ip nat pool buchs20 195.176.242.22 195.176.242.22 netmask 255.255.255.240 
ip nat pool buchs30 195.176.242.23 195.176.242.23 netmask 255.255.255.240 
ip nat pool buchs99 195.176.242.24 195.176.242.24 netmask 255.255.255.240 
ip nat pool stgallen10 195.176.242.25 195.176.242.25 netmask 255.255.255.240 
ip nat pool stgallen20 195.176.242.26 195.176.242.26 netmask 255.255.255.240 
ip nat pool stgallen30 195.176.242.27 195.176.242.27 netmask 255.255.255.240 
ip nat pool stgallen99 195.176.242.28 195.176.242.28 netmask 255.255.255.240 

access-list 110 permit 10.1.10.0 0.0.0.255
access-list 120 permit 10.1.20.0 0.0.0.255
access-list 130 permit 10.1.30.0 0.0.0.255
access-list 199 permit 10.1.99.0 0.0.0.255
access-list 210 permit 10.2.10.0 0.0.0.255
access-list 220 permit 10.2.20.0 0.0.0.255
access-list 230 permit 10.2.30.0 0.0.0.255
access-list 299 permit 10.2.99.0 0.0.0.255
access-list 310 permit 10.3.10.0 0.0.0.255
access-list 320 permit 10.3.20.0 0.0.0.255
access-list 330 permit 10.3.30.0 0.0.0.255
access-list 399 permit 10.3.99.0 0.0.0.255

ip nat inside source list 110 pool chur10 overload
ip nat inside source list 120 pool chur20 overload
ip nat inside source list 130 pool chur30 overload
ip nat inside source list 199 pool chur99 overload
ip nat inside source list 210 pool buchs10 overload
ip nat inside source list 220 pool buchs20 overload
ip nat inside source list 230 pool buchs30 overload
ip nat inside source list 299 pool buchs99 overload
ip nat inside source list 310 pool stgallen10 overload
ip nat inside source list 320 pool stgallen20 overload
ip nat inside source list 330 pool stgallen30 overload
ip nat inside source list 399 pool stgallen99 overload

interface fe 0
ip nat outside 
exit

interface s0/1/0
ip nat inside
exit

interface g0/0
ip nat inside
exit

interface g0/1
ip nat inside
exit
